# Joystream Working Groups Bot

Discord Bot which informs Joystream DAO about the important events related to working groups: new openings, salary changes, hires, fires, applications etc. Built in Node.js.

This version is compatible with Olympia network, but wasn't tested with Rhodes one.

# Roadmap

How would this product evolve depends chiefly on the demand from the DAO. However, it seems reasonable to add the following features:

1. Interactive slash commands (`/salary` to see my salary, `/earnings` to get earnings for last X days, etc.) ONLY YOUR IMAGINATION IS THE LIMIT HERE :) 
2. Show "before/after" state for Salary and Stake events
3. Add a clickable link to apply on an opening
4. [Support for new events](https://discord.com/channels/811216481340751934/933726271832227911/938414244876136478)


# Configuration

The main configuration file is `../../config.ts`. Here, the mapping between the Working Groups and Discord channels is kept. You may map several Working Groups to a single channnel, or have each Working Group notifications sent to a dedicated channel, depending on your needs. Make sure your bot has appropriate permissions to channels you configured in `../../config.ts`. 

The configuration for code generator is in `../../codegen.yml`. 

# Installation

Build with `yarn`

As the project uses autogenerated code, you must execute `npm run generate` that produces `../src/qntypes.ts` file. 

Run using `TOKEN=<BOT TOKEN> ts-node src/wg/index.ts`

# Simulation mode (sort of testing facility)

It is possible to run the tool in simulation mode to test how the certain events are processed. In this mode, the tool only processes the blocks that are configured in the file (`eventsMapping`). 

Run the simulation using `TOKEN=<BOT TOKEN> ts-node src/wg/simulate.ts`
